
class SyncBar{
	private:
		TGraph *gr;
	public:
		SyncBar(){}
		~SyncBar(){}
		void draw(int side,int barId){

//			double qPed[14][8] = {
//				{0 ,2281.08,2106.67,1924   ,1733.07,1533.89,1326.45,1110.75}, 
//				{0 ,2006.8 ,1843.49,1677.34,1508.35,1336.52,1161.85,984.34 },
//				{0 ,2055.2 ,1865.7 ,1682.86,1506.68,1337.14,1174.25,1018.01},
//				{0 ,1871.87,1723.52,1572.74,1419.51,1263.84,1105.73,945.189},
//				{0 ,2022.68,1851.67,1680.82,1510.14,1339.62,1169.28,999.094},
//				{0 ,2192.64,2025.14,1852.86,1675.8 ,1493.95,1307.31,1115.89}, 
//				{0 ,2057.39,1893.72,1727.95,1560.08,1390.11,1218.03,1043.86},
//				{0 ,2906.86,2698.63,2476.88,2241.61,1992.83,1730.52,1454.69},
//				{0 ,2202.93,2034.3 ,1860.81,1682.49,1499.32,1311.3 ,1118.44}, 
//				{0 ,2160.24,1995.44,1822.65,1641.86,1453.07,1256.29,1051.5 },
//				{0 ,1729.86,1595.94,1457.63,1314.94,1167.87,1016.42,860.583},
//				{0 ,2486.75,2298.47,2098.71,1887.45,1664.7 ,1430.46,1184.73},
//				{0 ,2739.64,2525.31,2306.05,2081.88,1852.77,1618.75,1379.81},
//				{0 ,2519.11,2336.44,2139.02,1926.84,1699.89,1458.19,1201.72}
//			};


			double qPed[14][8] = {
				{0,2274.034,2132.598,1972.941,1795.095,1599.048,1384.798,1152.348},
				{0,1982.820,1845.708,1701.252,1549.476,1390.368,1223.928,1050.150},
				{0,2023.697,1905.190,1769.921,1617.883,1449.095,1263.552,1061.252},
				{0,1863.750,1733.634,1597.418,1455.101,1306.683,1152.165,991.539 },
				{0,2034.101,1916.818,1781.549,1628.309,1457.079,1267.863,1060.666},
				{0,2182.120,2057.442,1916.019,1757.851,1582.928,1391.248,1182.816},
				{0,2003.590,1876.771,1739.099,1590.579,1431.205,1260.984,1079.909},
				{0,3135.666,2933.100,2712.381,2473.494,2216.447,1941.239,1647.868},
				{0,2173.174,2012.687,1845.172,1670.635,1489.070,1300.480,1104.861},
				{0,2259.570,2109.684,1946.323,1769.488,1579.184,1375.406,1158.156},
				{0,1806.123,1685.046,1555.092,1416.261,1268.553,1111.968,946.505 },
				{0,2694.967,2525.424,2333.896,2120.381,1884.881,1627.397,1347.924},
				{0,2899.741,2688.199,2470.345,2246.199,2015.748,1778.998,1535.950},
				{0,2689.045,2516.913,2326.335,2117.306,1889.830,1643.902,1379.526}
			};
			gr = new TGraph(8,qPed[7*side+barId],qPed[7*side]);
			gr->Draw("AP*");
			TF1 *fit = new TF1("fit","pol1");
			gr->Fit(fit,"Q");
			cout<<side<<" "<<barId<<" "<<fit->GetParameter(0)<<" "<<fit->GetParameter(1)<<endl;
			
		}
};
void alignBar(){
	SyncBar *sb = new SyncBar();
	//sb->loadRefBar();	
	//sb->loadSyncBar();	
	for (int i = 0; i < 2; ++i) {
		for (int j = 0; j< 7; ++j) {
			sb->draw(i,j);
		}
	}
}
